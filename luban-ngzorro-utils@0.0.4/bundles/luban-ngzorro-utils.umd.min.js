!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("great-jsutils"),require("@angular/core"),require("@angular/common/http"),require("ng-zorro-antd"),require("ng-zorro-antd/message"),require("rxjs"),require("rxjs/operators"),require("@angular/common")):"function"==typeof define&&define.amd?define("luban-ngzorro-utils",["exports","great-jsutils","@angular/core","@angular/common/http","ng-zorro-antd","ng-zorro-antd/message","rxjs","rxjs/operators","@angular/common"],e):e((t=t||self)["luban-ngzorro-utils"]={},t.greatJsutils,t.ng.core,t.ng.common.http,t.ngZorroAntd,t.message,t.rxjs,t.rxjs.operators,t.ng.common)}(this,function(t,e,r,n,i,o,s,u,a){"use strict";var l=function(){return(l=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var i in e=arguments[r])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function c(t,e,r,n){var i,o=arguments.length,s=o<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,r,n);else for(var u=t.length-1;u>=0;u--)(i=t[u])&&(s=(o<3?i(s):o>3?i(e,r,s):i(e,r))||s);return o>3&&s&&Object.defineProperty(e,r,s),s}function p(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)}function f(t,e){var r="function"==typeof Symbol&&t[Symbol.iterator];if(!r)return t;var n,i,o=r.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(n=o.next()).done;)s.push(n.value)}catch(t){i={error:t}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return s}function d(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(f(arguments[e]));return t}var h,g=function(){function t(){}return t.init=function(r){var n=new t;if(e.DataTypeUtils.isString(r))n.value=r;else{if(r instanceof t)return r;e.DataTypeUtils.isObject(r)&&e.ObjectUtils.clone(r,n)}return n},t.prototype.defaultValue=function(e){void 0===e&&(e="校验未通过");var r=new t;return r.key="pattern",r.errorMsgKey="error",r.errorMsg=e,r},t}();(h=t.HttpResponseAlertStatus||(t.HttpResponseAlertStatus={}))[h.ALL=1]="ALL",h[h.SUCCESS=2]="SUCCESS",h[h.FAIL=3]="FAIL",h[h.NONE=4]="NONE";var v=function(){function t(t,e,r,n,i,o,s,u,a,l,c,p,f,d){this.pageNum=t,this.pageSize=e,this.pages=r,this.list=n,this.total=i,this.current=o,this.size=s,this.totalPages=u,this.totalRows=a,this.rows=l,this.endRow=c,this.startRow=p,this.resultCode=f,this.resultMsg=d,this.pageNum&&(this.current=this.pageNum),this.pageSize&&(this.size=this.size),this.pageNum=t||1,this.pageSize=e||20,this.size=s||20,this.totalRows=a||0,this.total=i||0,this.list=n||[],this.rows=l||[]}return Object.defineProperty(t.prototype,"offset",{get:function(){return this.pageNum-1},set:function(t){this.pageNum=t+1},enumerable:!0,configurable:!0}),t.fromJson=function(e){return e?Object.setPrototypeOf(e,t.prototype):new t},t}(),m=function(){function t(t,e,r){this.resultCode=t,this.resultMsg=e,this.data=r,this.defaultMessage={"-1":"操作出现错误！",0:"操作失败！",1:"操作成功！",2:"操作成功，即将进行一下步操作！"}}return t.init=function(e){var r=new t;if("string"==typeof e)r.data=e;else{if(e instanceof t)return e;"object"==typeof e&&Object.keys(e).forEach(function(t){t in r&&(r[t]=e[t])})}return r},t.prototype.isSuccess=function(){return 1===this.resultCode||2===this.resultCode},t.prototype.getMessage=function(){if(this.resultMsg)return this.resultMsg;var t=this.defaultMessage[this.resultCode];return t||"未知的操作结果！"},t}(),y=function(){function t(){}return t.prototype.getDefaultHeader=function(){return new n.HttpHeaders({Authorization:"bearer eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyRW50aXR5Ijp7InVzZXJJZCI6IjEyNDMzOTI5NzM3NjgwMDc2OCIsInBhc3N3b3JkIjoiIiwidXNlckNvZGUiOiJqd3RUZXN0IiwidXNlclJlYWxOYW1lIjoibG9naW50ZXN0IiwidXNlclN0YXRlIjoiMCIsImNyZWF0ZVRpbWUiOm51bGwsImNyZWF0b3IiOm51bGwsImxhc3RNb2RpZnlUaW1lIjpudWxsLCJsYXN0TW9kaWZpZXIiOm51bGwsInZhbGlkVGltZSI6bnVsbCwiZXhwaXJlVGltZSI6bnVsbCwibG9ja1RvIjpudWxsLCJwaG9uZSI6IjE1NTU1NTU1NTU1IiwiZW1haWwiOiJsb2dpbnRlc3RAbGcuY29tIiwicHN3RXhwdGltZSI6bnVsbCwibm90ZSI6bnVsbCwiYXV0aG9yaXRpZXMiOlt7ImF1dGhvcml0eSI6IlJPTEVfVVNFUiJ9XSwiZW5hYmxlZCI6dHJ1ZSwidXNlcm5hbWUiOiJqd3RUZXN0IiwiYWRtaW4iOmZhbHNlLCJhY2NvdW50Tm9uRXhwaXJlZCI6dHJ1ZSwiY3JlZGVudGlhbHNOb25FeHBpcmVkIjp0cnVlLCJhY2NvdW50Tm9uTG9ja2VkIjp0cnVlfSwidXNlcl9uYW1lIjoiand0VGVzdCIsInNjb3BlIjpbImFsbCJdLCJleHAiOjE4NDc2ODY4MzMsImF1dGhvcml0aWVzIjpbIlJPTEVfVVNFUiJdLCJqdGkiOiJiMzdkMTc1Ny01NmUxLTQzMTAtYmYxNC1mNjZmZmE1M2Q0MjMiLCJjbGllbnRfaWQiOiI5MDAxMDAxMDEwIn0.D-fkT7yWtpXw_LkE4_6-EuMYI2-AYsYttDcl0RNgdyFNM0V9s9I0-ihH53hsS-X1NhYvgfLKQSRmlZZFDUrpAWuh_eIVw5YmY686u-GqN8LwpAInd5ECUGPNQ3-yb4W-rIhopNPOZONYRH8f12eAly-BE-8tFZhDei0SuW-k9OVHyqfu7LRPwPUl4DLbSrLxvit3-_SQ40syUkCWRPPZBB_wAIzHfXOZxvRUBjXjRS78D1xTFPiNolq-UukOcQbzNw00c7IE-k9r9geu1SXUm1i4XDVWFpl2Xq921nzyRldvf7vDmMpUDdat7jnOEVsE2kOkF3LwljphH2ErpSygqg"})},t.prototype.setLoginUser=function(t){t&&sessionStorage.setItem("luban_login_user",JSON.stringify(t))},t.prototype.getLoginUser=function(){var t=sessionStorage.getItem("luban_login_user");return t?JSON.parse(t):null},t.ngInjectableDef=r.ɵɵdefineInjectable({factory:function(){return new t},token:t,providedIn:"root"}),t=c([r.Injectable({providedIn:"root"}),p("design:paramtypes",[])],t)}(),b=function(){function t(){}return t.prototype.chinese=function(t){var e=this;t=g.init(t);var r=/^[\u4e00-\u9fa5]+$/;return function(n){if(!n.value)return null;var i=r.test(n.value);return e.buildReturnResult(i,t,n)}},t.prototype.alphanumeric=function(t){var e=this;t=g.init(t);var r=/^[A-Za-z0-9]+$/;return function(n){var i=r.test(n.value);return e.buildReturnResult(i,t,n)}},t.prototype.regex=function(t){var e=this,r=(t=g.init(t)).value;return function(n){var i=r.test(n.value);return e.buildReturnResult(i,t,n)}},t.prototype.identityCard=function(t){var e=this;t=g.init(t);var r=/^[1-9]\d{7}((0\d)|(1[0-2]))(([0|1|2]\d)|3[0-1])\d{3}$|^[1-9]\d{5}[1-9]\d{3}((0\d)|(1[0-2]))(([0|1|2]\d)|3[0-1])\d{3}([0-9]|X)$/;return function(n){var i=r.test(n.value);return e.buildReturnResult(i,t,n)}},t.prototype.email=function(t){var e=this;t=g.init(t);var r=/^[A-Za-z0-9\u4e00-\u9fa5]+@[a-zA-Z0-9_-]+(\.[a-zA-Z0-9_-]+)+$/;return function(n){var i=r.test(n.value);return e.buildReturnResult(i,t,n)}},t.prototype.mobile=function(t){var e=this;t=g.init(t);var r=/^[1][3,4,5,7,8][0-9]{9}$/;return function(n){var i=r.test(n.value);return e.buildReturnResult(i,t,n)}},t.prototype.url=function(t){var e=this;t=g.init(t);var r=/^((ht|f)tps?):\/\/([\w\-]+(\.[\w\-]+)*\/)*[\w\-]+(\.[\w\-]+)*\/?(\?([\w\-\.,@?^=%&:\/~\+#]*)+)?/;return function(n){n.value&&t.trimLR&&n.setValue(n.value.trim());var i=r.test(n.value);return e.buildReturnResult(i,t,n)}},t.prototype.integer=function(t){var e=this;t=g.init(t);var r=/^\d+$/;return function(n){var i=r.test(n.value);return e.buildReturnResult(i,t,n)}},t.prototype.decimal=function(t){var r=this;return t=g.init(t),function(n){var i={};t.scale?i={scale:t.scale}:t.maxScale&&(i={scale:t.maxScale}),t.min&&(i=l({},i,{min:t.min})),t.max&&(i=l({},i,{max:t.max}));var o=e.RegexpUtils.isNumber(n.value,i);return r.buildReturnResult(o,t,n)}},t.prototype.byteLength=function(t){var r=this;return t=g.init(t),function(n){if(!n.value)return null;var i={};t.minLength?i={minLength:t.minLength}:t.maxLength&&(i={maxLength:t.maxLength}),n.value&&t.trimLR&&n.setValue(n.value.trim());var o=e.RegexpUtils.byteLength(n.value,i);return r.buildReturnResult(o,t,n)}},t.prototype.buildReturnResult=function(t,e,r){e.maxLength&&t&&(t=r.value.length<=e.maxLength),e.minLength&&t&&(t=r.value.length>=e.minLength);var n=e.defaultValue();if(t)return null;var i={},o=e.key?e.key:n.key,s=e.errorMsgKey?e.errorMsgKey:n.errorMsgKey,u=e.errorMsg?e.errorMsg:n.errorMsg;return i[o]={value:r.value},e.errorMsgKey,i[o][s]=u,i},t.ngInjectableDef=r.ɵɵdefineInjectable({factory:function(){return new t},token:t,providedIn:"root"}),t=c([r.Injectable({providedIn:"root"}),p("design:paramtypes",[])],t)}(),I=function(){function e(t){this.message=t}return e.prototype.default=function(e,r){void 0===r&&(r=t.HttpResponseAlertStatus.ALL),e&&e.isSuccess()&&(r===t.HttpResponseAlertStatus.ALL||r===t.HttpResponseAlertStatus.SUCCESS)?this.success(e.resultMsg):!e||e.isSuccess()||r!==t.HttpResponseAlertStatus.ALL&&r!==t.HttpResponseAlertStatus.FAIL||this.error(e.resultMsg)},e.prototype.success=function(t){void 0===t&&(t="操作成功！"),this.message.create("success",t)},e.prototype.error=function(t){void 0===t&&(t="操作失败！"),this.message.create("error",t)},e.prototype.warning=function(t){void 0===t&&(t="操作有误！"),this.message.create("warning",t)},e.ctorParameters=function(){return[{type:i.NzMessageService}]},e.ngInjectableDef=r.ɵɵdefineInjectable({factory:function(){return new e(r.ɵɵinject(o.NzMessageService))},token:e,providedIn:"root"}),e=c([r.Injectable({providedIn:"root"}),p("design:paramtypes",[i.NzMessageService])],e)}(),R=function(){function e(t,e){this.http=t,this.messageService=e}return e.prototype.get=function(e,r,n){var i=this;return void 0===r&&(r={}),void 0===n&&(n=t.HttpResponseAlertStatus.ALL),this.http.get(e,r).pipe(u.map(function(t){return i.callback(t,n)}),u.catchError(this.handleError(e,[])))},e.prototype.post=function(e,r,n,i){var o=this;return void 0===r&&(r={}),void 0===n&&(n={}),void 0===i&&(i=t.HttpResponseAlertStatus.ALL),this.http.post(e,r,n).pipe(u.map(function(t){return o.callback(t,i)}),u.catchError(this.handleError(e,[])))},e.prototype.put=function(e,r,n,i){var o=this;return void 0===r&&(r={}),void 0===n&&(n={}),void 0===i&&(i=t.HttpResponseAlertStatus.ALL),this.http.put(e,r).pipe(u.map(function(t){return o.callback(t,i)}),u.catchError(this.handleError(e,[])))},e.prototype.delete=function(e,r,n){var i=this;return void 0===r&&(r={}),void 0===n&&(n=t.HttpResponseAlertStatus.ALL),this.http.delete(e,r).pipe(u.map(function(t){return i.callback(t,n)}),u.catchError(this.handleError(e,[])))},e.prototype.callback=function(e,r){return(e=m.init(e))||this.messageService.error("未获取到数据！"),r!==t.HttpResponseAlertStatus.NONE&&this.messageService.default(e,r),e},e.prototype.handleError=function(t,e){return void 0===t&&(t="operation"),function(r){return console.error(r),console.log(t+" failed: "+r.message),s.of(e)}},e.ctorParameters=function(){return[{type:n.HttpClient},{type:I}]},e.ngInjectableDef=r.ɵɵdefineInjectable({factory:function(){return new e(r.ɵɵinject(n.HttpClient),r.ɵɵinject(I))},token:e,providedIn:"root"}),e=c([r.Injectable({providedIn:"root"}),p("design:paramtypes",[n.HttpClient,I])],e)}(),S=[y,b,I],N=function(){function t(){}return t=c([r.NgModule({imports:[a.CommonModule],providers:d(S)})],t)}();t.CommonConfigService=y,t.FormValidatorModel=g,t.FormValidatorService=b,t.HttpUtilService=R,t.LubanUtilsModule=N,t.MessageService=I,t.PageInfo=v,t.Result=m,Object.defineProperty(t,"__esModule",{value:!0})});
//# sourceMappingURL=luban-ngzorro-utils.umd.min.js.map